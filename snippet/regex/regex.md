## 正则表达式

### 一、正则表达式语法

1. `\d` 表示[0-9]中的任意一个数字
2. `“.”`  点表示任意一个字符
3. `\w` 表示数字单词下划线字符 `[0-9a-zA-Z_]`
4. `\s` 表示匹配空白 ：`\n\t\r\b\p`
5. `\D` (不常用) 表示非数字
6. `\S` (不常用) 表示非空白
7. `\W` (大写W 、不常用) 表示非单词字符
8. `{m,n}` 表示数词出现m~n次
9. `{n}` 表示数词n个
10. `?` 表示出现次数0次或1次
11. `+` 表示出现次数1次或多次
12. `*` 表示出现次数任意次
13. `{n,}` 表示出现至少n次以上
14. `$` 标记正则表达式的结尾
15. `(pattern)` 配置pattern并获得匹配内容，使用 $1，$2 ... 等获取匹配后的分组内容
16. `(?:pattern)`  匹配pattern并不获得匹配内容。
17. `(?=pattern)` 正向预查，在任何匹配pattern的字符串开始匹配查找字符串
18. `(?!pattern)` 反向预查，任何不匹配pattern的字符串开始查找字符串。
19. `x|y`  匹配x或者y.
20. `[xyz]` 字符集合。 匹配所包含的任意字符。
21. `(?<=pattern)` 匹配pattern字符串查找，但不包括pattern内容。

### 二、常用正则表达式

- 去除标签，留下文本内容

```shell
<a.*?>(.*?)</a>

# $1 获取文本内容
```

1. 校验日期格式

```javascript
/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;
```

2. 校验密码强度

```javascript
/^(?=.\d)(?=.[a-z])(?=.*[A-Z]).{8,10}$/
```

3. 校验中文

```javascript
^[\u4e00-\u9fa5]{0,}$
```

4. 由数字、26个英文字母或下划线组成的字符串

```javascript
^\w+$
```

5. 校验E-Mail 地址

```javascript
[\w!#$%&’+/=?^_{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_{|}~-]+)@(?:\w?\.)+\w?
```

6. 校验身份证号码

```javascript
//15位：

^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$

//18位：

^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$
```

7. 校验日期

> “yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。

```javascript
^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$
```

8. 校验金额

> 金额校验，精确到2位小数。

```javascript
^[0-9]+(.[0-9]{2})?$
```

9. 校验手机号

> 国内 13、15、18开头的手机号正则表达式

```javascript
^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$
```

10. 判断IE的版本

```javascript
^.MSIE 5-8?(?!.*Trident\/[5-9]\.0).$
```

11. 校验IP地址

```javascript
//IP4 正则语句。

\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b


//IP6 正则语句。

(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))
```

12. 提取URL链接

```javascript
^(f|ht){1}(tp|tps):\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?
```

13. 提取Color Hex Codes

```javascript
^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$
```

14. 提取网页图片

```
\< [img][^\\>][src] = [\”\’]{0,1}([^\”\’\ >]*)
```

15. > 邮政编码的正则表达式写法：

```
1.  ^[0-9][0-9][0-9][0-9][0-9][0-9]$
1. ^[0-9]{6}$
1. ^\d{6}$
```

16. > 用户名规则：

```
1. ^\w{8,10}$
```

> 电话号码：

```
1. ^(\+86|\+0086)?\s?\d{11}$
```

17. > 身份证号码：

```
1. ^\d{15}(\d{2}[0-9xX])?$

18位居民身份证号码最后一位——数字校验码的计算方法：
1. 将身份证号码的前17位数分别乘以以下系数：7，9，10，5，8，4，2，1，6，3，7，9，10，5，8，4，2；
2. 将以上分别相乘得到的结果相加；
3. 将以上相加的结果除以11，得出余数；
4. 以上得出的余数可能为0 - 10这11个数中的某一个数字。10是一个另类，因为我们的数字校验位只有1位显然需要一种替换方案，用1位将10换下，于是X派上用场了。注意了，数字校验位并不就是余数！！所得的11个余数：
0，1，2，3，4，5，6，7，8，9，10 的数字校验位分别为：
1，0，X，9，8，7，6，5，4，3，2
```

